<!-- This comment will put IE 6, 7 and 8 in quirks mode -->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Grbl9dUno: U:/DONNEES/TRAVAIL_NT/CodeBlock/Arduino/Grbl-8xxx/Grbl-9dUno-c/src/eeprom.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javaScript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.6.3 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <img id="MSearchSelect" src="search/search.png"
             onmouseover="return searchBox.OnSearchSelectShow()"
             onmouseout="return searchBox.OnSearchSelectHide()"
             alt=""/>
        <input type="text" id="MSearchField" value="Search" accesskey="S"
             onfocus="searchBox.OnSearchFieldFocus(true)" 
             onblur="searchBox.OnSearchFieldFocus(false)" 
             onkeyup="searchBox.OnSearchFieldChange(event)"/>
        <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
        </div>
      </li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>U:/DONNEES/TRAVAIL_NT/CodeBlock/Arduino/Grbl-8xxx/Grbl-9dUno-c/src/eeprom.c File Reference</h1><code>#include &lt;avr/io.h&gt;</code><br/>
<code>#include &lt;avr/interrupt.h&gt;</code><br/>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="eeprom_8c.html#a190ea91ea27d4e2b539016d6409292ad">EEMPE</a>&nbsp;&nbsp;&nbsp;EEMWE</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">&lt; EEPROM program/write enable.  <a href="#a190ea91ea27d4e2b539016d6409292ad"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="eeprom_8c.html#aaaeb094d364721ac3d2327b717b19724">EEPM1</a>&nbsp;&nbsp;&nbsp;5</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">EEPROM Programming Mode Bit 1.  <a href="#aaaeb094d364721ac3d2327b717b19724"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="eeprom_8c.html#a94f25fccd5ff8cec6d62d4933d97ef74">EEPM0</a>&nbsp;&nbsp;&nbsp;4</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">EEPROM Programming Mode Bit 0.  <a href="#a94f25fccd5ff8cec6d62d4933d97ef74"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="eeprom_8c.html#a67b6d6f14d8150004e0c629c6aa8900d">EEPROM_IGNORE_SELFPROG</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Remove SPM flag polling.  <a href="#a67b6d6f14d8150004e0c629c6aa8900d"></a><br/></td></tr>
<tr><td colspan="2"><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">unsigned char&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="eeprom_8c.html#a234cfa0f6d5f06e60da3567c29176208">eeprom_get_char</a> (unsigned int addr)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Read byte from EEPROM.  <a href="#a234cfa0f6d5f06e60da3567c29176208"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="eeprom_8c.html#a0c5d265d6fc85a0ac23222e203ee9157">eeprom_put_char</a> (unsigned int addr, unsigned char new_value)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Write byte to EEPROM.  <a href="#a0c5d265d6fc85a0ac23222e203ee9157"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="eeprom_8c.html#a95b7f2711550c12ae148abc7c9f1cb96">memcpy_to_eeprom_with_checksum</a> (unsigned int destination, char *source, unsigned int size)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="eeprom_8c.html#a638b3712d0baa822e86dff38e0fabdb2">memcpy_from_eeprom_with_checksum</a> (char *destination, unsigned int source, unsigned int size)</td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>Atmel Corporation</p>
<ul>
<li>File: <a class="el" href="eeprom_8c.html">eeprom.c</a> </li>
<li>Compiler: IAR EWAAVR 3.10c </li>
<li>Support mail: <a href="mailto:avr@atmel.com">avr@atmel.com</a></li>
</ul>
<ul>
<li>Supported devices: All devices with split EEPROM erase/write capabilities can be used. The example is written for ATmega48.</li>
</ul>
<ul>
<li>AppNote: AVR103 - Using the EEPROM Programming Modes.</li>
</ul>
<ul>
<li>Description: Example on how to use the split EEPROM erase/write capabilities in e.g. ATmega48. All EEPROM programming modes are tested, i.e. Erase+Write, Erase-only and Write-only.</li>
</ul>
<dl class="rcs"><dt><b>Revision</b></dt><dd>1.6 </dd></dl>
<dl class="rcs"><dt><b>Date</b></dt><dd>Friday, February 11, 2005 07:16:44 UTC </dd></dl>
<hr/><h2>Define Documentation</h2>
<a class="anchor" id="a190ea91ea27d4e2b539016d6409292ad"></a><!-- doxytag: member="eeprom.c::EEMPE" ref="a190ea91ea27d4e2b539016d6409292ad" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define EEMPE&nbsp;&nbsp;&nbsp;EEMWE</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>&lt; EEPROM program/write enable. </p>
<p>EEPROM master program/write enable. </p>

</div>
</div>
<a class="anchor" id="a94f25fccd5ff8cec6d62d4933d97ef74"></a><!-- doxytag: member="eeprom.c::EEPM0" ref="a94f25fccd5ff8cec6d62d4933d97ef74" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define EEPM0&nbsp;&nbsp;&nbsp;4</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>EEPROM Programming Mode Bit 0. </p>

</div>
</div>
<a class="anchor" id="aaaeb094d364721ac3d2327b717b19724"></a><!-- doxytag: member="eeprom.c::EEPM1" ref="aaaeb094d364721ac3d2327b717b19724" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define EEPM1&nbsp;&nbsp;&nbsp;5</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>EEPROM Programming Mode Bit 1. </p>

</div>
</div>
<a class="anchor" id="a67b6d6f14d8150004e0c629c6aa8900d"></a><!-- doxytag: member="eeprom.c::EEPROM_IGNORE_SELFPROG" ref="a67b6d6f14d8150004e0c629c6aa8900d" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define EEPROM_IGNORE_SELFPROG</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Remove SPM flag polling. </p>

</div>
</div>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="a234cfa0f6d5f06e60da3567c29176208"></a><!-- doxytag: member="eeprom.c::eeprom_get_char" ref="a234cfa0f6d5f06e60da3567c29176208" args="(unsigned int addr)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned char eeprom_get_char </td>
          <td>(</td>
          <td class="paramtype">unsigned int&nbsp;</td>
          <td class="paramname"> <em>addr</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Read byte from EEPROM. </p>
<p>This function reads one byte from a given EEPROM address.</p>
<dl class="note"><dt><b>Note:</b></dt><dd>The CPU is halted for 4 clock cycles during EEPROM read.</dd></dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>addr</em>&nbsp;</td><td>EEPROM address to read from. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>The byte read from the EEPROM address. </dd></dl>

</div>
</div>
<a class="anchor" id="a0c5d265d6fc85a0ac23222e203ee9157"></a><!-- doxytag: member="eeprom.c::eeprom_put_char" ref="a0c5d265d6fc85a0ac23222e203ee9157" args="(unsigned int addr, unsigned char new_value)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void eeprom_put_char </td>
          <td>(</td>
          <td class="paramtype">unsigned int&nbsp;</td>
          <td class="paramname"> <em>addr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char&nbsp;</td>
          <td class="paramname"> <em>new_value</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Write byte to EEPROM. </p>
<p>This function writes one byte to a given EEPROM address. The differences between the existing byte and the new value is used to select the most efficient EEPROM programming mode.</p>
<dl class="note"><dt><b>Note:</b></dt><dd>The CPU is halted for 2 clock cycles during EEPROM programming.</dd>
<dd>
When this function returns, the new EEPROM value is not available until the EEPROM programming time has passed. The EEPE bit in EECR should be polled to check whether the programming is finished.</dd>
<dd>
The EEPROM_GetChar() function checks the EEPE bit automatically.</dd></dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>addr</em>&nbsp;</td><td>EEPROM address to write to. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>new_value</em>&nbsp;</td><td>New EEPROM value. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a638b3712d0baa822e86dff38e0fabdb2"></a><!-- doxytag: member="eeprom.c::memcpy_from_eeprom_with_checksum" ref="a638b3712d0baa822e86dff38e0fabdb2" args="(char *destination, unsigned int source, unsigned int size)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int memcpy_from_eeprom_with_checksum </td>
          <td>(</td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>destination</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&nbsp;</td>
          <td class="paramname"> <em>source</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&nbsp;</td>
          <td class="paramname"> <em>size</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a95b7f2711550c12ae148abc7c9f1cb96"></a><!-- doxytag: member="eeprom.c::memcpy_to_eeprom_with_checksum" ref="a95b7f2711550c12ae148abc7c9f1cb96" args="(unsigned int destination, char *source, unsigned int size)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void memcpy_to_eeprom_with_checksum </td>
          <td>(</td>
          <td class="paramtype">unsigned int&nbsp;</td>
          <td class="paramname"> <em>destination</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>source</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&nbsp;</td>
          <td class="paramname"> <em>size</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
</div>
<!--- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&nbsp;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&nbsp;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&nbsp;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&nbsp;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&nbsp;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&nbsp;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<hr class="footer"/><address style="text-align: right;"><small>Generated on Mon Apr 28 21:28:08 2014 for Grbl9dUno by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.3 </small></address>
</body>
</html>
